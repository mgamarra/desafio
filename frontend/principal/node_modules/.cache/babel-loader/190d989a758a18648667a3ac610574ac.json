{"ast":null,"code":"import _objectSpread from \"/Users/brunogomes/desafio/frontend/principal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { LOGIN, REGISTER_NEW_USER } from \"../../common/redux/RATypes\";\nvar defaultState = {\n  loggedIn: !!sessionStorage.getItem(\"jwtToken\"),\n  user: !!sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : null,\n  token: sessionStorage.getItem(\"jwtToken\"),\n  roles: [],\n  registeredSuccessfully: false\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGIN:\n      var nextState = _objectSpread({}, state);\n\n      if (action.data) {\n        delete action.errorData;\n        nextState.token = action.data.token;\n        nextState.user = action.data.user;\n        nextState.loggedIn = true;\n      } else if (action.errorData) {\n        nextState.errorData = action.errorData;\n      }\n\n      return nextState;\n\n    case REGISTER_NEW_USER:\n      return _objectSpread({}, state, {\n        registeredSuccessfully: action.data && action.data.registeredSuccessfully\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/brunogomes/desafio/frontend/principal/src/views/auth/AuthReducer.js"],"names":["LOGIN","REGISTER_NEW_USER","defaultState","loggedIn","sessionStorage","getItem","user","JSON","parse","token","roles","registeredSuccessfully","state","action","type","nextState","data","errorData"],"mappings":";AAAA,SAAQA,KAAR,EAAeC,iBAAf,QAAuC,4BAAvC;AAEA,IAAMC,YAAY,GAAG;AACpBC,EAAAA,QAAQ,EAAE,CAAC,CAACC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CADQ;AAEpBC,EAAAA,IAAI,EAAE,CAAC,CAACF,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAF,GAAmCE,IAAI,CAACC,KAAL,CAAWJ,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAAnC,GAAgF,IAFlE;AAGpBI,EAAAA,KAAK,EAAEL,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAHa;AAIpBK,EAAAA,KAAK,EAAE,EAJa;AAKpBC,EAAAA,sBAAsB,EAAE;AALJ,CAArB;AAQA,gBAAe,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBV,YAAyB;AAAA,MAAXW,MAAW;;AAChD,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKd,KAAL;AACC,UAAIe,SAAS,qBAAOH,KAAP,CAAb;;AAEA,UAAIC,MAAM,CAACG,IAAX,EAAiB;AAChB,eAAOH,MAAM,CAACI,SAAd;AACAF,QAAAA,SAAS,CAACN,KAAV,GAAkBI,MAAM,CAACG,IAAP,CAAYP,KAA9B;AACAM,QAAAA,SAAS,CAACT,IAAV,GAAiBO,MAAM,CAACG,IAAP,CAAYV,IAA7B;AACAS,QAAAA,SAAS,CAACZ,QAAV,GAAqB,IAArB;AAEA,OAND,MAMO,IAAIU,MAAM,CAACI,SAAX,EAAsB;AAC5BF,QAAAA,SAAS,CAACE,SAAV,GAAsBJ,MAAM,CAACI,SAA7B;AACA;;AAED,aAAOF,SAAP;;AAED,SAAKd,iBAAL;AACC,+BACIW,KADJ;AAECD,QAAAA,sBAAsB,EAAEE,MAAM,CAACG,IAAP,IAAeH,MAAM,CAACG,IAAP,CAAYL;AAFpD;;AAKD;AACC,aAAOC,KAAP;AAvBF;AAyBA,CA1BD","sourcesContent":["import {LOGIN, REGISTER_NEW_USER} from \"../../common/redux/RATypes\";\n\nconst defaultState = {\n\tloggedIn: !!sessionStorage.getItem(\"jwtToken\"),\n\tuser: !!sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : null,\n\ttoken: sessionStorage.getItem(\"jwtToken\"),\n\troles: [],\n\tregisteredSuccessfully: false\n};\n\nexport default (state = defaultState, action) => {\n\tswitch (action.type) {\n\t\tcase LOGIN:\n\t\t\tlet nextState = {...state};\n\n\t\t\tif (action.data) {\n\t\t\t\tdelete action.errorData;\n\t\t\t\tnextState.token = action.data.token;\n\t\t\t\tnextState.user = action.data.user;\n\t\t\t\tnextState.loggedIn = true;\n\n\t\t\t} else if (action.errorData) {\n\t\t\t\tnextState.errorData = action.errorData;\n\t\t\t}\n\n\t\t\treturn nextState;\n\n\t\tcase REGISTER_NEW_USER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tregisteredSuccessfully: action.data && action.data.registeredSuccessfully\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}"]},"metadata":{},"sourceType":"module"}