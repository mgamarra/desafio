{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _BaseRATypes = require(\"./BaseRATypes\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar asyncStart = function asyncStart(subtype, httpRequest) {\n  if (subtype === void 0) {\n    subtype = \"EMPTY\";\n  }\n\n  if (httpRequest === void 0) {\n    httpRequest = null;\n  }\n\n  return {\n    type: _BaseRATypes.ASYNC_START,\n    subtype: subtype,\n    httpRequest: httpRequest\n  };\n};\n\nvar asyncEnd = function asyncEnd(subtype) {\n  if (subtype === void 0) {\n    subtype = \"EMPTY\";\n  }\n\n  return {\n    type: _BaseRATypes.ASYNC_END,\n    subtype: subtype\n  };\n};\n/**\n * Base Async Thunk for common use of async redux actions! ;D\n * @param restApiRequest - The promise returned by the Rest API Path Call\n * @param actionType - Then Redux Action Type to hit Reducer\n * @param customResponseTransform - Transform Response body results\n * @returns Function Thunk\n * rodrix\n */\n\n\nvar baseAsyncThunk = function baseAsyncThunk(restApiRequest, actionType, customResponseTransform) {\n  if (customResponseTransform === void 0) {\n    customResponseTransform = function customResponseTransform(res) {\n      return res.body;\n    };\n  }\n\n  return function (dispatch) {\n    dispatch(asyncStart(actionType, restApiRequest));\n    var hasError = false;\n    restApiRequest.then(function (res) {\n      hasError = res && !res.body && !res.status.toString().startsWith(\"20\");\n\n      if (!hasError) {\n        var body = res.body ? res.body : null;\n        dispatch({\n          type: actionType,\n          result: customResponseTransform(res, body, hasError)\n        });\n      }\n\n      return res;\n    }).catch(function (resErr) {\n      hasError = true;\n      var body = resErr.response && resErr.response.body ? resErr.response.body : null;\n      dispatch({\n        type: actionType,\n        result: _objectSpread({\n          hasError: hasError,\n          status: resErr.response ? resErr.response.statusCode : 0\n        }, customResponseTransform(resErr, body, hasError))\n      });\n\n      if (resErr) {\n        if (resErr.response && resErr.response.req) {\n          console.debug(\"baseAsyncThunk XHR: ERROR OCCURRED CALLING >>>> \" + resErr.response.req.url, {\n            request: {\n              method: resErr.response.req.method,\n              url: resErr.response.req.url,\n              data: resErr.response.req.data // headers: JSON.parse(JSON.stringify(resErr.response.req)).headers,\n\n            },\n            response: {\n              body: resErr.response.body,\n              // headers: resErr.response.headers,\n              code: resErr.response.statusCode\n            }\n          });\n        } else {\n          console.debug(resErr, JSON.stringify(resErr));\n        }\n      }\n\n      return resErr;\n    }).finally(function () {\n      dispatch(asyncEnd(actionType));\n    });\n  };\n};\n\nvar _default = {\n  asyncStart: asyncStart,\n  asyncEnd: asyncEnd,\n  baseAsyncThunk: baseAsyncThunk\n};\nexports.default = _default;","map":{"version":3,"sources":["/Users/brunogomes/desafio/frontend/principal/src/common/redux/BaseActions.js"],"names":["Object","defineProperty","exports","value","default","_BaseRATypes","require","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","configurable","writable","asyncStart","subtype","httpRequest","type","ASYNC_START","asyncEnd","ASYNC_END","baseAsyncThunk","restApiRequest","actionType","customResponseTransform","res","body","dispatch","hasError","then","status","toString","startsWith","result","catch","resErr","response","statusCode","req","console","debug","url","request","method","data","code","JSON","stringify","finally","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _BaseRATypes = require(\"./BaseRATypes\");\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar asyncStart = function asyncStart(subtype, httpRequest) {\n  if (subtype === void 0) {\n    subtype = \"EMPTY\";\n  }\n\n  if (httpRequest === void 0) {\n    httpRequest = null;\n  }\n\n  return {\n    type: _BaseRATypes.ASYNC_START,\n    subtype: subtype,\n    httpRequest: httpRequest\n  };\n};\n\nvar asyncEnd = function asyncEnd(subtype) {\n  if (subtype === void 0) {\n    subtype = \"EMPTY\";\n  }\n\n  return {\n    type: _BaseRATypes.ASYNC_END,\n    subtype: subtype\n  };\n};\n/**\n * Base Async Thunk for common use of async redux actions! ;D\n * @param restApiRequest - The promise returned by the Rest API Path Call\n * @param actionType - Then Redux Action Type to hit Reducer\n * @param customResponseTransform - Transform Response body results\n * @returns Function Thunk\n * rodrix\n */\n\n\nvar baseAsyncThunk = function baseAsyncThunk(restApiRequest, actionType, customResponseTransform) {\n  if (customResponseTransform === void 0) {\n    customResponseTransform = function customResponseTransform(res) {\n      return res.body;\n    };\n  }\n\n  return function (dispatch) {\n    dispatch(asyncStart(actionType, restApiRequest));\n    var hasError = false;\n    restApiRequest.then(function (res) {\n      hasError = res && !res.body && !res.status.toString().startsWith(\"20\");\n\n      if (!hasError) {\n        var body = res.body ? res.body : null;\n        dispatch({\n          type: actionType,\n          result: customResponseTransform(res, body, hasError)\n        });\n      }\n\n      return res;\n    }).catch(function (resErr) {\n      hasError = true;\n      var body = resErr.response && resErr.response.body ? resErr.response.body : null;\n      dispatch({\n        type: actionType,\n        result: _objectSpread({\n          hasError: hasError,\n          status: resErr.response ? resErr.response.statusCode : 0\n        }, customResponseTransform(resErr, body, hasError))\n      });\n\n      if (resErr) {\n        if (resErr.response && resErr.response.req) {\n          console.debug(\"baseAsyncThunk XHR: ERROR OCCURRED CALLING >>>> \" + resErr.response.req.url, {\n            request: {\n              method: resErr.response.req.method,\n              url: resErr.response.req.url,\n              data: resErr.response.req.data // headers: JSON.parse(JSON.stringify(resErr.response.req)).headers,\n\n            },\n            response: {\n              body: resErr.response.body,\n              // headers: resErr.response.headers,\n              code: resErr.response.statusCode\n            }\n          });\n        } else {\n          console.debug(resErr, JSON.stringify(resErr));\n        }\n      }\n\n      return resErr;\n    }).finally(function () {\n      dispatch(asyncEnd(actionType));\n    });\n  };\n};\n\nvar _default = {\n  asyncStart: asyncStart,\n  asyncEnd: asyncEnd,\n  baseAsyncThunk: baseAsyncThunk\n};\nexports.default = _default;\n"]},"metadata":{},"sourceType":"module"}